/**
 * @package pokamnieto - A lightweight for revealing elements when they appear in the view while scrolling the page based on the IntersectionObserver API.
 * @version v1.0.0
 * @link https://github.com/tyczynski/pokamnieto.js
 * @author Przemysław Tyczyński | https://tyczynski.pl
 * @license MIT
 */
function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Pokamnieto=t()}(this,function(){"use strict";var e={root:null,rootMargin:"0px",threshold:0,initImmediately:!0,elementVisibleClassName:"is-visible",elementPreparedClassName:"is-prepared"};return function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-pokamnieto",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t),this.elements=Array.from(document.querySelectorAll(r)),this.config=_extends({},e,n),this.config.initImmediately?this.initObserver():window.addEventListener("scroll",this.prepareElements.bind(this))}return _createClass(t,[{key:"prepareElements",value:function(){var e=this.config.elementPreparedClassName;this.elements=this.elements.filter(function(t){var r=_slicedToArray(function(e){var t=e.getBoundingClientRect(),r=t.top,n=t.height;return[r<=window.innerHeight&&r+n>=0,n+r<=0?"up":"down"]}(t),2),n=r[0],i=r[1];return n||(t.classList.add(i),t.classList.add(e)),!n}),window.removeEventListener("scroll",this.prepareElements.bind(this)),this.initObserver()}},{key:"initObserver",value:function(){this.observer=new IntersectionObserver(this.callback.bind(this),{root:this.config.root,rootMargin:this.config.rootMargin,threshold:this.config.threshold});for(var e=0;e<this.elements.length;e+=1)this.observer.observe(this.elements[e])}},{key:"callback",value:function(e){var t=this,r=this.config.elementVisibleClassName;e.forEach(function(e){var n=e.target;e.isIntersecting&&(n.classList.add(r),t.observer.unobserve(n))})}},{key:"observe",value:function(e){this.observer.observe(e)}}]),t}()});